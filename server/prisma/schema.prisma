datasource db {
  provider = "sqlite"
  url      = "file:../db/abb.db"
}

generator client {
  provider = "prisma-client-js"
}

model Control {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  name      String
  order     Int
  nominal   Float
  dev1      Float
  dev2      Float
  lasts     String   @default("[]")
  value     Float?
  feature   Feature  @relation(name: "Feature", fields: [featureId], references: [id])
  featureId Int
}

model Feature {
  id        Int       @id @default(autoincrement())
  createdAt DateTime  @default(now())
  name      String
  width     Int
  height    Int
  part      Part      @relation(name: "Part", fields: [partId], references: [id])
  partId    Int
  controls  Control[] @relation(name: "Feature")
}

model Part {
  id        Int       @id @default(autoincrement())
  createdAt DateTime  @default(now())
  name      String
  features  Feature[] @relation(name: "Part")
}
